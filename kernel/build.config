KERNEL_DIR=kernel-5.10
REL_GEN_BUILD_CONFIG_DIR=`./${KERNEL_DIR}/scripts/get_rel_path.sh /home/nolanarchie/android_kernel_a165f/out/target/product/a16/obj/KERNEL_OBJ ${ROOT_DIR}`
KERNEL_BUILD_MODE=user
KERNEL_DEFCONFIG_FILE=kernel-5.10/arch/arm64/configs/a16_00_defconfig

BUILD_CONFIG_FRAGMENTS="${KERNEL_DIR}/build.config.common"
GET_CONFIG_ABI_MONITOR=`grep "^CONFIG_ABI_MONITOR\s*=\s*y" ${KERNEL_DEFCONFIG_FILE} | xargs`
if [ "${KERNEL_BUILD_MODE}" == "user" ] && [ "x${GET_CONFIG_ABI_MONITOR}" != "x" ]; then
  DO_ABI_MONITOR=1
  BUILD_CONFIG_FRAGMENTS="${BUILD_CONFIG_FRAGMENTS} ${REL_GEN_BUILD_CONFIG_DIR}/build.config.gki.aarch64"
fi
BUILD_CONFIG_FRAGMENTS="${BUILD_CONFIG_FRAGMENTS} ${REL_GEN_BUILD_CONFIG_DIR}/build.config.mtk"
if [ "x${ENABLE_GKI_CHECKER}" == "xtrue" ] || [ -d "${ROOT_DIR}/../vendor/mediatek/internal" ] && [ "${KERNEL_BUILD_MODE}" == "user" ]; then
  BUILD_CONFIG_FRAGMENTS="${BUILD_CONFIG_FRAGMENTS} ${KERNEL_DIR}/build.config.mtk.check_gki"
  ADDITIONAL_HOST_TOOLS="${ADDITIONAL_HOST_TOOLS} diff"
fi
